"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[483],{483:function(n,e,r){r.r(e),r.d(e,{default:function(){return E}});var t=r(5671),u=r(3144),i=r(136),s=r(2882),o=r(2791),l=r(885),c="User_avatar__hHGzy",a=r(501),f=r(184),d=function(n){return(0,f.jsxs)("div",{children:[(0,f.jsx)(a.OL,{to:"/profile/".concat(n.user.id),children:(0,f.jsx)("img",{src:n.user.photos.small?n.user.photos.small:"https://repository-images.githubusercontent.com/15949540/b0a70b80-cb15-11e9-8338-661f601406a1",alt:"avatar",className:c})}),(0,f.jsx)("div",{children:n.user.name}),(0,f.jsx)("div",{children:"status"}),(0,f.jsx)("div",{children:n.user.id}),n.user.followed?(0,f.jsx)("button",{onClick:function(){n.unFollowUserThunk(n.user.id)},disabled:n.followId.some((function(e){return e===n.user.id})),children:"Unfollow"}):(0,f.jsx)("button",{onClick:function(){n.followUserThunk(n.user.id)},disabled:n.followId.some((function(e){return e===n.user.id})),children:"Follow"})]})},h="Users_section__uytiE",m="UserPagination_curientPage__P5wWP",g=function(n){for(var e=[],r=1;r<=Math.ceil(n.pageCount);r++)e.push(r);var t=(0,o.useState)(0),u=(0,l.Z)(t,2),i=u[0],s=u[1];return(0,f.jsxs)(f.Fragment,{children:[0!==i?(0,f.jsx)("button",{onClick:function(){return s(i-1)},children:"PREV"}):null,e.map((function(e){return e>10*i&&e<=10*i+10?(0,f.jsx)("button",{className:n.currentPage===e?m:"",onClick:function(){n.onChangeCurrentPage(e)},children:e}):null})),n.pageCount/10>i?(0,f.jsx)("button",{onClick:function(){return s(i+1)},children:"NEXT"}):null]})},x=r(2452),j=r(5705),p=function(n){return(0,f.jsx)("div",{children:(0,f.jsx)(j.J9,{enableReinitialize:!0,initialValues:{term:n.filter.term,friend:n.filter.friend},onSubmit:function(e,r){var t=r.setSubmitting;n.onSearchUsers(e.term,String(e.friend)),t(!1)},children:function(n){var e=n.values,r=n.handleSubmit,t=n.isSubmitting;return(0,f.jsxs)("form",{onSubmit:r,children:[(0,f.jsx)(j.gN,{type:"text",name:"term",value:e.term}),(0,f.jsxs)(j.gN,{name:"friend",as:"select",className:"my-select",children:[(0,f.jsx)("option",{value:"null",children:"All"}),(0,f.jsx)("option",{value:"true",children:"Followed"}),(0,f.jsx)("option",{value:"false",children:"Not followed"})]}),(0,f.jsx)("button",{type:"submit",disabled:t,children:"Find"})]})}})})},v=r(1405),b=r(6916),C=function(n){return n.usersPage.users},P=((0,b.P1)(C,(function(n){return n})),function(n){return n.usersPage.totalCount}),w=function(n){return n.usersPage.usersCount},k=function(n){return n.usersPage.currentPage},_=function(n){return n.usersPage.followId},y=function(n){return n.usersPage.filter},U=r(2618),F=r(6871),N=function(){var n=(0,v.v9)((function(n){return n.usersPage.preload})),e=(0,v.v9)(C),r=(0,v.v9)(P),t=(0,v.v9)(w),u=(0,v.v9)(k),i=(0,v.v9)(_),s=(0,v.v9)(y),c=(0,F.s0)(),m=(0,a.lr)(),j=(0,l.Z)(m,2),b=j[0];j[1];(0,o.useEffect)((function(){s.term?c("/users?term=".concat(s.term,"&friend=").concat(s.friend,"&page=").concat(u)):c("/users?friend=".concat(s.friend,"&page=").concat(u))}),[s.friend,s.term,u]),(0,o.useEffect)((function(){var n=+b.get("page"),e=b.get("term")||"",r=b.get("friend");s.friend||s.term||N((0,U.Cx)(n,t,e,r))}),[]);var N=(0,v.I0)(),S=function(n){return N((0,U.qh)(n))},Z=function(n){return N((0,U.qh)(n))};return(0,f.jsxs)("section",{className:h,children:[n?(0,f.jsx)(x.p,{}):(0,f.jsx)(g,{pageCount:r/t,currentPage:u,onChangeCurrentPage:function(n){N((0,U.CN)(n,t))}}),(0,f.jsx)(p,{onSearchUsers:function(n,e){N((0,U.Cx)(1,t,n,e))},filter:s}),e.map((function(n){return(0,f.jsx)(d,{user:n,followId:i,followUserThunk:S,unFollowUserThunk:Z})}))]})},S=r(7827),Z=r(7781),A=function(n){(0,i.Z)(r,n);var e=(0,s.Z)(r);function r(){return(0,t.Z)(this,r),e.apply(this,arguments)}return(0,u.Z)(r,[{key:"render",value:function(){return(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(N,{})})}}]),r}(o.Component),E=(0,Z.qC)(S.P)(A)},7827:function(n,e,r){r.d(e,{P:function(){return a}});var t=r(8683),u=r(5987),i=(r(2791),r(6871)),s=r(4802),o=r(184),l=["isAuth"],c=function(n){return{isAuth:n.auth.isAuth}};function a(n){return(0,s.$j)(c,{})((function(e){var r=e.isAuth,s=(0,u.Z)(e,l);return r?(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(n,(0,t.Z)({},s))}):(0,o.jsx)(i.Fg,{to:"/login"})}))}}}]);
//# sourceMappingURL=483.8cad40be.chunk.js.map