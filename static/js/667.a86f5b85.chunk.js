"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[667],{3405:function(e,t,n){n.r(t),n.d(t,{default:function(){return U}});var s=n(1413),i=n(5671),o=n(3144),r=n(136),a=n(8557),l=n(2791),c={},u="Post_avatar__tX11S",d=n(184),h=function(e){return(0,d.jsxs)("div",{children:[(0,d.jsx)("img",{src:"https://avatars.githubusercontent.com/u/85486375?v=4",alt:"avatar",className:u}),(0,d.jsx)("div",{children:e.postInfo.user}),(0,d.jsx)("div",{children:e.postInfo.text})]})},p=function(e){var t=e.posts.map((function(e){return(0,d.jsx)(h,{postInfo:e})}));return(0,d.jsx)("div",{children:t})},f=l.memo(p),x=n(885),j="ProfileInfo_profile__info__-WZ-B",m="ProfileInfo_infoText__QB-zQ",v="ProfileInfoForm_error__6WJ-m",g=n(7817),k=n(6139),I=n(704),T=n(3314),b=(0,g.BS)(40),Z=(0,I.Z)({form:"editInfo"})((function(e){var t=e.handleSubmit;return(0,d.jsxs)("form",{onSubmit:t,children:[(0,d.jsx)("div",{children:(0,d.jsx)(k.Z,{name:"fullName",component:T.I,validate:[g.Ei,b],type:"text",placeholder:"Fullname..."})}),(0,d.jsx)("div",{children:(0,d.jsx)(k.Z,{name:"aboutMe",component:T.I,validate:[g.Ei,b],type:"text",placeholder:"About Me..."})}),(0,d.jsxs)("fieldset",{children:[(0,d.jsx)("legend",{children:"Contacts"}),(0,d.jsx)("div",{children:(0,d.jsx)(k.Z,{name:"contacts.vk",component:T.I,validate:[g.Ei,b],type:"text",placeholder:"Vk..."})}),(0,d.jsx)("div",{children:(0,d.jsx)(k.Z,{name:"contacts.github",component:T.I,validate:[g.Ei,b],type:"text",placeholder:"Github..."})}),(0,d.jsx)("div",{children:(0,d.jsx)(k.Z,{name:"contacts.instagram",component:T.I,validate:[g.Ei,b],type:"text",placeholder:"Instagram..."})}),(0,d.jsx)("div",{children:(0,d.jsx)(k.Z,{name:"contacts.twitter",component:T.I,validate:[g.Ei,b],type:"text",placeholder:"Twitter..."})})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)(k.Z,{name:"lookingForAJob",component:"input",type:"checkbox"}),"Looking for a job?"]}),(0,d.jsx)("div",{children:(0,d.jsx)(k.Z,{name:"lookingForAJobDescription",component:T.I,validate:[g.Ei,b],type:"text",placeholder:"Job description..."})}),(0,d.jsx)("div",{className:e.error?v:"",children:e.error}),(0,d.jsx)("div",{children:(0,d.jsx)("button",{children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435"})})]})})),P=function(e){return(0,d.jsx)("div",{children:(0,d.jsx)(Z,{initialValues:e.profile,onSubmit:function(t){e.changeProfileThunk(t).then((function(){e.setFormEditMode(!1)}))}})})},N=n(9529),S=n(5880),_=n(9243),y=n(6830),w=n(2351),E=function(e){var t,n,i,o,r,a,c,u=(0,l.useState)(!1),h=(0,x.Z)(u,2),p=h[0],f=h[1],v=(0,l.useState)(!1),g=(0,x.Z)(v,2),k=g[0],I=g[1],T=(0,l.useState)(e.status),b=(0,x.Z)(T,2),Z=b[0],E=b[1];(0,l.useEffect)((function(){E(e.status)}),[e.status]);var C={onChange:function(e){var t=e.file;console.log(t)}};return(0,d.jsxs)("div",{className:j,children:[(0,d.jsxs)("div",{children:[null!==(t=e.profile.photos)&&void 0!==t&&t.small?(0,d.jsx)(S.C,{size:128,src:null===(n=e.profile.photos)||void 0===n?void 0:n.small}):(0,d.jsx)(S.C,{size:128,icon:(0,d.jsx)(N.Z,{})}),e.authId===e.profile.userId?(0,d.jsx)(_.Z,(0,s.Z)((0,s.Z)({},C),{},{children:(0,d.jsx)(y.Z,{icon:(0,d.jsx)(w.Z,{}),children:"Upload"})})):null]}),p?(0,d.jsx)("input",{type:"text",autoFocus:!0,onBlur:function(){f(!1),e.setStatusThunk(Z)},defaultValue:Z,onChange:function(e){E(e.currentTarget.value)}}):(0,d.jsxs)("div",{onDoubleClick:function(){f(!0)},children:[(0,d.jsx)("span",{className:m,children:"Status:"})," ",Z]}),k?(0,d.jsx)(P,{profile:e.profile,changeProfileThunk:e.changeProfileThunk,setFormEditMode:I}):(0,d.jsx)("div",{className:"profile-description",children:(0,d.jsxs)("ul",{children:[(0,d.jsxs)("li",{children:[(0,d.jsx)("span",{className:m,children:"Full name: "}),e.profile.fullName]}),(0,d.jsxs)("li",{children:[(0,d.jsx)("span",{className:m,children:"ID: "}),e.profile.userId]}),(0,d.jsxs)("li",{children:[(0,d.jsx)("span",{className:m,children:"About Me: "}),e.profile.aboutMe||"\u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u043e"]}),(0,d.jsxs)("li",{children:[(0,d.jsx)("span",{className:m,children:"VK: "}),(null===(i=e.profile.contacts)||void 0===i?void 0:i.vk)||"\u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u043e"]}),(0,d.jsxs)("li",{children:[(0,d.jsx)("span",{className:m,children:"Github: "}),(null===(o=e.profile.contacts)||void 0===o?void 0:o.github)||"\u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u043e"]}),(0,d.jsxs)("li",{children:[(0,d.jsx)("span",{className:m,children:"Instagram: "}),(null===(r=e.profile.contacts)||void 0===r?void 0:r.instagram)||"\u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u043e"]}),(0,d.jsxs)("li",{children:[(0,d.jsx)("span",{className:m,children:"Twitter: "}),(null===(a=e.profile.contacts)||void 0===a?void 0:a.twitter)||"\u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u043e"]}),(0,d.jsxs)("li",{children:[(0,d.jsx)("span",{className:m,children:"Twitter: "}),(null===(c=e.profile.contacts)||void 0===c?void 0:c.twitter)||"\u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u043e"]}),(0,d.jsxs)("li",{children:[(0,d.jsx)("span",{className:m,children:"Job description: "}),e.profile.lookingForAJobDescription||"\u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u043e"]})]})}),e.authId===e.profile.userId?(0,d.jsx)("button",{onClick:function(){I(!k)},children:"Edit"}):null]})},C=function(e){return(0,d.jsx)("div",{children:(0,d.jsx)(F,{onSubmit:function(t){console.log(t),e.addNewPostText(t.post)}})})},F=(0,I.Z)({form:"post"})((function(e){var t=e.handleSubmit;return(0,d.jsxs)("form",{onSubmit:t,children:[(0,d.jsx)(k.Z,{component:T.S,name:"post",validate:[g.C6,g.Ei],placeholder:"Post text..."}),(0,d.jsx)("button",{children:"Send"})]})})),A=function(e){return(0,d.jsx)("section",{className:c.section,children:(0,d.jsxs)("div",{className:c.section__profile,children:[(0,d.jsx)(E,{profile:e.profile,status:e.status,setStatusThunk:e.setStatusThunk,authId:e.authId,changePhotoThunk:e.changePhotoThunk,changeProfileThunk:e.changeProfileThunk}),(0,d.jsx)(C,{addNewPostText:e.addNewPostText}),(0,d.jsx)(f,{posts:e.posts})]})})},M=n(6871),D=n(4802),J=n(1801),B=n(7827),V=n(7781),z=J.GT.addNewPostText,G=function(e){(0,r.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,o.Z)(n,[{key:"componentDidMount",value:function(){var e=this.props.router.params.userId||this.props.authId;this.props.getProfileThunk(e),this.props.getStatusThunk(e)}},{key:"componentDidUpdate",value:function(e){var t,n;if((null===(t=this.props.router.params)||void 0===t?void 0:t.userId)!==(null===(n=e.router.params)||void 0===n?void 0:n.userId)){var s=this.props.router.params.userId||this.props.authId;this.props.getProfileThunk(s),this.props.getStatusThunk(s)}}},{key:"render",value:function(){return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(A,(0,s.Z)({},this.props))})}}]),n}(l.Component),U=(0,V.qC)((0,D.$j)((function(e){return{posts:e.profilePage.posts,profile:e.profilePage.profile,status:e.profilePage.status,authId:e.auth.id}}),{addNewPostText:z,getProfileThunk:J.VB,getStatusThunk:J.$b,setStatusThunk:J.oI,changePhotoThunk:J.Ek,changeProfileThunk:J.bc}),(function(e){return function(t){var n=(0,M.TH)(),i=(0,M.s0)(),o=(0,M.UO)();return(0,d.jsx)(e,(0,s.Z)((0,s.Z)({},t),{},{router:{location:n,navigate:i,params:o}}))}}),B.P)(G)},7827:function(e,t,n){n.d(t,{P:function(){return u}});var s=n(1413),i=n(5987),o=(n(2791),n(6871)),r=n(4802),a=n(184),l=["isAuth"],c=function(e){return{isAuth:e.auth.isAuth}};function u(e){return(0,r.$j)(c,{})((function(t){var n=t.isAuth,r=(0,i.Z)(t,l);return n?(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(e,(0,s.Z)({},r))}):(0,a.jsx)(o.Fg,{to:"/login"})}))}}}]);
//# sourceMappingURL=667.a86f5b85.chunk.js.map